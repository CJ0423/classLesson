<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>rpg小遊戲的原理</title>
</head>

<body>
  <h1>rpg小遊戲的原理</h1>
  <p>和怪物戰鬥</p>
  <button id="attackButton">攻擊！!</button>
  <script>
    class Player {
      constructor(name, health, attackPower) {
        this.name = name
        this.health = health
        this.attackPower = attackPower
      }

      attack(target) {

        const damage = Math.floor(Math.random() * this.attackPower)
        target.health -= damage
        if (target.health <= 0) {
          console.log(`${target.name}死亡${this.name}贏了`)
          return
        } else if (this.health <= 0) {
          console.log(`${this.name}死亡${target.name}贏了`)
          return
        }
        console.log(`${this.name} 攻擊 ${target.name} 造成 ${damage} 傷害!`)
        console.log(`${target.name} 剩餘 ${target.health} 生命`)
      }
    }

    class Monster {
      constructor(name, health, attackPower) {
        this.name = name
        this.health = health
        this.attackPower = attackPower
      }

      attack(target) {
        const damage = Math.floor(Math.random() * this.attackPower)
        target.health -= damage
        if (target.health <= 0) {
          console.log(`${target.name}死亡${this.name}贏了`)
          return
        } else if (this.health <= 0) {
          console.log(`${this.name}死亡${target.name}贏了`)
          return
        }
        console.log(`${this.name} 攻擊 ${target.name} 造成 ${damage} 傷害!`)
        console.log(`${target.name} 剩餘 ${target.health} 生命`)
      }
    }

    const player = new Player('超級英雄', 100, 10)

    const monster = new Monster('怪物', 120, 10)

    const attackButton = document.querySelector('#attackButton')

    attackButton.addEventListener('click', () => {

      if (player.health <= 0 || monster.health <= 0) {
        console.log("已結束對戰")
      } else {
        player.attack(monster)
        monster.attack(player)
      }

    })




    for (let i = 0; i < 20; i++) {
      console.log(Math.floor(Math.random() * 10)) //這邊表示的是0~9  那如果要取得
    }

    let j = 1
    do {
      console.log("這是do-while")
    } while (j < 1) //最少執行一次的迴圈，就是do while

    while (j < 10) {
      console.log("這是while迴圈")
      j++
    }


    const color = ["梅花", "黑桃", "愛心", "菱形"];
    const cnum = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, "J", "Q", "K"];
    let may = [];
    let tao = [];
    let love = [];
    let linShin = [];

    let allCards = [];

    for (let i = 0; i < cnum.length; i++) {
      may.push(`${color[0]}${cnum[i]}`)
    }
    for (let i = 0; i < cnum.length; i++) {
      tao.push(`${color[1]}${cnum[i]}`)
    }
    for (let i = 0; i < cnum.length; i++) {
      love.push(`${color[2]}${cnum[i]}`)
    }
    for (let i = 0; i < cnum.length; i++) {
      linShin.push(`${color[3]}${cnum[i]}`)
    }
    for (let i = 0; i < may.length; i++) {
      allCards.push(may[i], tao[i], love[i], linShin[i])
    }
    allCards.sort(() => Math.random() - 0.5)
    console.log(allCards)


    let playerOne = [];
    let playerTwo = [];
    let playerThree = [];
    let playerFour = [];

    for (let i = 0; i < allCards.length - 1; i++) {
      if (playerOne.length < 13) {
        playerOne.push(allCards[i])
      } else if (playerTwo.length < 13) {
        playerTwo.push(allCards[i])
      } else if (playerThree.length < 13) {
        playerThree.push(allCards[i])
      } else if (playerFour.length < 13) {
        playerFour.push(allCards[i])
      }
    }
    console.log("玩家一的手牌有")
    console.log(playerOne)
    console.log("玩家二的手牌有")
    console.log(playerTwo)
    console.log("玩家三的手牌有")
    console.log(playerThree)
    console.log("玩家四的手牌有")
    console.log(playerFour)
    // color.sort(() => Math.random() - 0.5);
    // cnum.sort(() => Math.random() - 0.5);
    // console.log(color)
    // console.log(cnum)
    // for (let i = 0; i < color.length - 1; i++) {
    //   for (let j = 0; j < cnum.length - 1; j++) {
    //     if (playerOne.length < 13) {
    //       playerOne.push(`${color[i]}${cnum[j]}`)
    //     } else if (playerTwo.length < 13) {
    //       playerTwo.push(`${color[i]}${cnum[j]}`)
    //     } else if (playerThree.length < 13) {
    //       playerThree.push(`${color[i]}${cnum[j]}`)
    //     } else if (playerFour.length < 13) {
    //       playerFour.push(`${color[i]}${cnum[j]}`)
    //     }
    //   }
    // }

    // for (let i = 0; i < color.length - 1; i++) {
    //   // console.log(color[i])
    //   for (let j = 0; j < cnum.length - 1; j++) {
    //     let card = `${color[i]} ${cnum[j]}`;
    //     let resetTheNum = Math.floor(Math.random() * 4);
    //     while (playerOne.length != 13 && playerTwo.length != 13 && playerThree.length != 13 && playerFour.length != 13) {
    //3      resetTheNum;
    //     }
    //     if (resetTheNum == 0 && playerOne.length <= 13) {
    //       playerOne.push(card)
    //     } else if (resetTheNum == 1 && playerTwo.length <= 13) {
    //       playerTwo.push(card)
    //     } else if (resetTheNum == 2 && playerThree.length <= 13) {
    //       playerThree.push(card)
    //     } else if (resetTheNum == 3 && playerFour.length <= 13) {
    //       playerFour.push(card)
    //     }
    //   }
    // }
    // console.log(playerOne)
    // console.log(playerTwo)
    // console.log(playerThree)
    // console.log(playerFour)



    // 二到12



    // 玩家1:梅花3、黑桃2.....
    // 玩家2:梅花4、黑桃7.....
    // 玩家3:梅花13、黑桃6.....
    // 玩家4:梅花1、黑桃5.....
  </script>
</body>

</html>